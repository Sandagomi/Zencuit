# Deployment Guide for Zencuit Website

## Overview
This project consists of a React frontend (built with Vite) and a Node.js/Express backend server that handles contact form submissions via email.

## What Was Fixed

### Issue: "Cannot GET /" Error
The server was only handling API routes (`/api/contact`, `/api/health`) but not serving the React application for the root URL.

### Solution
1. **Updated server to serve static files**: The Express server now serves the built React app from the `dist` folder
2. **Added catch-all route**: Any route that doesn't match an API endpoint will serve the React app's `index.html`
3. **Fixed API endpoint**: Updated the contact form to POST to `/api/contact` instead of the root URL

## Render.com Deployment Instructions

### Step 1: Configure Render Web Service

1. Go to your Render dashboard: https://dashboard.render.com/
2. Select your service: **zencuit**
3. Update the following settings:

#### Build Settings
- **Build Command**: 
  ```bash
  npm install && npm run build && cp -r dist server/ && cd server && npm install
  ```

- **Start Command**:
  ```bash
  cd server && node index.js
  ```

#### Environment Variables
Make sure you have set the following environment variables in Render:

1. `EMAIL_USER` - Your Gmail address (e.g., your-email@gmail.com)
2. `EMAIL_APP_PASSWORD` - Your Gmail app password (NOT your regular password)
3. `COMPANY_EMAIL` - Email where contact form submissions should be sent (sandagomi@zencuit.com)
4. `PORT` - Will be automatically set by Render (usually 10000)

### Step 2: Get Gmail App Password

If you haven't already set up a Gmail app password:

1. Go to your Google Account: https://myaccount.google.com/
2. Navigate to **Security** → **2-Step Verification** (enable if not already)
3. Scroll down to **App passwords**
4. Generate a new app password for "Mail"
5. Copy the 16-character password
6. Add it to Render as `EMAIL_APP_PASSWORD`

### Step 3: Deploy

After updating the settings:
1. Click **Manual Deploy** → **Deploy latest commit**
2. Wait for the build to complete (2-3 minutes)
3. Your site will be live at: https://zencuit.onrender.com/

## Testing

### Test the Homepage
Visit: https://zencuit.onrender.com/
- You should see your Zencuit website

### Test the Contact Form
1. Scroll to the contact section
2. Fill out the form
3. Click "Send Message"
4. You should see a success toast notification
5. Check the `COMPANY_EMAIL` inbox for the submitted form

### Test API Health
Visit: https://zencuit.onrender.com/api/health
- You should see: `{"status":"OK","message":"Server is running"}`

## Local Development

### Run Frontend (Development)
```bash
npm run dev
```
Frontend will run on: http://localhost:5173

### Run Backend Server
```bash
npm run server
```
Server will run on: http://localhost:3001

### Build for Production
```bash
npm run build:all
```

## Project Structure

```
zencuit-innovate-connect-main/
├── dist/                    # Built React app (generated by npm run build)
├── src/                     # React source code
│   ├── components/
│   │   └── Contact.tsx     # Contact form component
│   └── ...
├── server/
│   ├── index.js            # Express server (serves API + static files)
│   ├── package.json        # Server dependencies
│   └── .env.example        # Example environment variables
├── package.json            # Frontend dependencies
└── vite.config.ts          # Vite configuration
```

## Important Notes

1. **Free Tier Sleep**: Render's free tier puts services to sleep after 15 minutes of inactivity. The first request after sleep will take 30-60 seconds.

2. **Environment Variables**: Make sure all environment variables are set in Render's dashboard, not in a `.env` file (which should not be committed to git).

3. **Build Process**: 
   - First, the frontend is built (creates `dist` folder)
   - Then server dependencies are installed
   - Finally, server starts and serves the built frontend + API endpoints

4. **CORS**: The server allows CORS from any origin. For production, you might want to restrict this to your domain only.

## Troubleshooting

### Issue: Form submission fails
- Check that all environment variables are set correctly in Render
- Verify the Gmail app password is correct
- Check server logs in Render dashboard

### Issue: "Cannot GET /"
- Make sure the build completed successfully
- Verify the `dist` folder exists and contains files
- Check that the catch-all route is at the END of server routes

### Issue: Email not received
- Check spam folder
- Verify `COMPANY_EMAIL` is correct
- Check server logs for email sending errors
- Ensure 2-Step Verification is enabled for Gmail

## Support

For issues or questions, contact: sandagomi@zencuit.com
